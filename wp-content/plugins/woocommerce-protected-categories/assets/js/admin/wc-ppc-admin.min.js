/*!
 * WooCommerce Protected Categories 2.2.3
 * Copyright 2016-2019 Barn2 Media Limited
 */
(function(o,e,a,t){"use strict";var c=o("#product_cat_protection"),n=o("#product_cat_passwords"),i=function(){c.toggle(o("#protected_visibility").prop("checked"))};o("#product_cat_visibility").on("change","input:radio",function(){i()}),c.on("change","input:checkbox",function(){o(this).parent("label").next(".cat-protection__field").toggle(o(this).prop("checked"))}),n.on("click","a.cat-password__icon",function(){var t=o(this).parents(".cat-password");if("add"===o(this).data("action")){var e=t.clone(),a=n.children(".cat-password").last().data("index")+1;e.find(".cat-password__icon--delete").length||e.children(".cat-password__icons").append('<a class="cat-password__icon cat-password__icon--delete" data-action="delete" href="#"><span class="dashicons dashicons-minus"></span></a>'),e.attr({"data-first":!1,"data-index":a}).find(".cat-password__field").attr({id:"product_cat_password_"+a,value:""}),e.appendTo(n)}else if("delete"===o(this).data("action")){var c=t.find("input").val();(!c||c&&confirm(wc_ppc_params.confirm_delete))&&t.remove()}return!1}),o(e).ready(function(){if(o("#addtag, #edittag").length&&(i(),"selectWoo"in o.fn?o("#product_cat_user_roles, #product_cat_users").selectWoo():"select2"in o.fn&&o("#product_cat_user_roles, #product_cat_users").select2(),o("#addtag").length&&"MutationObserver"in a)){var t=e.getElementById("the-list");new MutationObserver(function(t,e){o.each(t,function(t,e){if("childList"==e.type){var a=o("#product_cat_protection");a.find(".cat-password__field, .cat-protection__select").val(null).change(),a.find(".cat-password").not(":eq(0)").remove(),a.find(".cat-protection__check").prop("checked",!1).change(),o("#public_visibility").prop("checked",!0).change()}})}).observe(t,{childList:!0})}});var r=function(t){var e=!1,a=t.data("toggleVal"),c=t.closest(".form-table").find("."+t.data("childClass")).closest("tr");e="radio"===t.attr("type")?t.prop("checked")&&a==t.val():"checkbox"===t.attr("type")?void 0===a||1==a?t.prop("checked"):!t.prop("checked"):a==t.val(),c.toggle(e)},d=o("#mainform .form-table");d.on("change",".toggle-parent",function(){r(o(this))}),o(e).ready(function(){d.find(".toggle-parent").each(function(){r(o(this))})})})(jQuery,document,window);